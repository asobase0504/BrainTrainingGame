//=============================================================================
// 
// アプリケーションクラス
// Author YudaKaito
// 
//=============================================================================
//-----------------------------------------------------------------------------
// include
//-----------------------------------------------------------------------------
#include "game.h"
#include "application.h"
#include "input.h"

#include "pause.h"
#include "timer.h"
#include "result.h"

//-----------------------------------------------------------------------------
// コンストラクタ
//-----------------------------------------------------------------------------
CGame::CGame()
{
}

//-----------------------------------------------------------------------------
// デストラクタ
//-----------------------------------------------------------------------------
CGame::~CGame()
{
}

//-----------------------------------------------------------------------------
// 初期化
//-----------------------------------------------------------------------------
HRESULT CGame::Init()
{
	m_timer = CTimer::Create(D3DXVECTOR3(100.0f,100.0f,0.0f),D3DXVECTOR2(30.0f,100.0f));
	m_timer->SetTimer(60);
	return S_OK;
}

//-----------------------------------------------------------------------------
// 終了
//-----------------------------------------------------------------------------
void CGame::Uninit()
{
	CMode::Uninit();
}

//-----------------------------------------------------------------------------
// 更新
//-----------------------------------------------------------------------------
void CGame::Update()
{
	CMode::Update();

	if (CInput::GetKey()->Trigger(DIK_P))
	{
		CPause::Create();
	}

	if (m_timer->GetTimer() <= 0 && !m_timer->isStop())
	{
		m_timer->StopTimer(true);
		CResult::Create();
	}
}
